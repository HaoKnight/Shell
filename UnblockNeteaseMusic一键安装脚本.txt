æºæ–‡æ¡£ç½‘å€ï¼šhttps://shell.xiu2.xyz/#/md/unblock163
ä¸€é”®è„šæœ¬ï¼šwget -N --no-check-certificate https://shell.xiu2.xyz/unblock163.sh && chmod +x unblock163.sh && bash unblock163.sh

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
åŸé¡¹ç›®å·²ç»pullæ›´æ–°ï¼Œæ‰€ä»¥æ”¹ä¸ºåŸé¡¹ç›®åœ°å€
wget -N --no-check-certificate https://raw.githubusercontent.com/XIU2/Shell/master/unblock163.sh && chmod +x unblock163.sh && bash unblock163.sh

æ–‡ä»¶ä½ç½®

å®‰è£…ç›®å½•ï¼š/usr/local/UnblockNeteaseMusic

æ—¥å¿—æ–‡ä»¶ï¼š/usr/local/UnblockNeteaseMusic/UnblockNeteaseMusic.log

å…¶ä»–å‘½ä»¤

é™¤äº†ç”¨è„šæœ¬å¯åŠ¨ã€åœæ­¢ã€é‡å¯ä»¥å¤–ï¼Œè¿˜èƒ½é€šè¿‡å…¶ä»–å‘½ä»¤æ“ä½œã€‚

å¯åŠ¨ï¼š/etc/init.d/unblock163 start

åœæ­¢ï¼š/etc/init.d/unblock163 stop

é‡å¯ï¼š/etc/init.d/unblock163 restart

æŸ¥çœ‹çŠ¶æ€ï¼š/etc/init.d/unblock163 status

è¦è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç¼–è¾‘/etc/init.d/unblock163ï¼Œåœ¨é‡Œé¢å¢åŠ ä½ éœ€è¦çš„å˜é‡ï¼Œå¦‚

export ENABLE_FLAC=true

export ENABLE_LOCAL_VIP=true

export LOG_LEVEL=debug
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
ğŸ“‘ unblock163.sh
è„šæœ¬ä»‹ç»
è¯¥è„šæœ¬åŸºäº UnblockNeteaseMusic é¡¹ç›®ã€‚

UnblockNeteaseMusic æ˜¯ä¸€ä¸ªå¯ä»¥è§£é”ç½‘æ˜“äº‘éŸ³ä¹ç°è‰²æ— ç‰ˆæƒéŸ³ä¹çš„ä»£ç†å·¥å…·ã€‚
åŸç†æ˜¯é€šè¿‡æ›¿æ¢æ— ç‰ˆæƒéŸ³ä¹çš„é“¾æ¥ä¸ºå…¶ä»–éŸ³æºï¼ˆQQã€é…·æˆ‘ã€é…·ç‹—ã€ç™¾åº¦ã€å’ªå’•ã€JOOXç­‰ï¼‰æ¥å®ç°è§£é”æ— ç‰ˆæƒéŸ³ä¹ã€‚ç›¸å½“äºåœ¨ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯ä¸­å¬å…¨ç½‘ç‰ˆæƒéŸ³ä¹ï¼

è¯¥è„šæœ¬åªé€‚ç”¨äºæœåŠ¡å™¨ï¼Œå¦‚æœåªæƒ³æœ¬åœ°ä½¿ç”¨ï¼Œè¯·ä½¿ç”¨æˆ‘å†™çš„ Windows ç‰ˆ (è¢«å¾‹å¸ˆå‡½è­¦å‘Šï¼Œå·²åœæ­¢æ›´æ–°)ï¼
å»ºè®®æœ‰æ¡ä»¶çš„éƒ¨ç½²åœ¨å›½å†…æœåŠ¡å™¨ï¼Œå›½å¤–æœåŠ¡å™¨åªèƒ½ç”¨ QQ éŸ³æºï¼Œå†µä¸”éƒ¨ç½²åœ¨å›½å¤–ç›¸æ¯”å›½å†…æˆ–æœ¬åœ°ä¼šæ…¢ä¸Šä¸å°‘ã€‚

è„šæœ¬ç‰ˆæœ¬
æœ€æ–°ç‰ˆæœ¬ï¼š v1.1.9

ç³»ç»Ÿè¦æ±‚
CentOS 6+ / Debian 6+ / Ubuntu 14.04 +

ä¸‹è½½å®‰è£…
æ³¨æ„ï¼šå› ä¸ºæ¶‰åŠé˜²ç«å¢™ç«¯å£å¼€å…³ã€æœåŠ¡è„šæœ¬å®‰è£…ï¼Œæ‰€ä»¥è„šæœ¬éœ€è¦ä»¥ ROOT ç”¨æˆ·æ‰§è¡Œã€‚

# å¦‚æœä½ ä¸æ˜¯ ROOT ç”¨æˆ·ï¼Œè¯·æ‰§è¡Œä¸‹é¢è¿™è¡Œä»£ç åˆ‡æ¢ä¸º ROOT ç”¨æˆ·ã€‚  
# å¦‚æœä½ å·²ç»æ˜¯ ROOT ç”¨æˆ·äº†ï¼Œé‚£ä¹ˆè¯·è·³è¿‡ä¸‹é¢è¿™è¡Œä»£ç ï¼

sudo su

# æ‰§è¡Œä¸Šé¢ä¸€è¡Œä»£ç åä¼šæç¤ºä½ è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œå›è½¦åæ²¡æœ‰æŠ¥é”™å³å¯ç»§ç»­ã€‚
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
å¦‚æœä½ è¦æ›´æ–°è„šæœ¬ï¼Œé™¤äº†ä½¿ç”¨è„šæœ¬ä¸­çš„ [0. æ›´æ–°è„šæœ¬] åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜å¯ä»¥å†æ¬¡è¾“å…¥ä¸‹é¢è¿™ä¸€è¡Œä»£ç ã€‚

æ‰§è¡Œä¸‹é¢ä¸€è¡Œä»£ç ä¸‹è½½å¹¶è¿è¡Œè„šæœ¬ï¼š

wget -N --no-check-certificate https://shell.xiu2.xyz/unblock163.sh && chmod +x unblock163.sh && bash unblock163.sh
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
ä¸‹è½½è¿è¡Œåä¼šæç¤ºä½ è¾“å…¥æ•°å­—æ¥é€‰æ‹©è¦åšä»€ä¹ˆã€‚ è¾“å…¥ 1 ï¼Œå°±ä¼šå¼€å§‹å®‰è£…äº†ï¼Œæ ¹æ®æç¤ºä¾æ¬¡è¾“å…¥é…ç½®ä¿¡æ¯(æˆ–ç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤é…ç½®)å³å¯ã€‚

è¯·è¾“å…¥æ•°å­— [0-10]:1
[ä¿¡æ¯] å¼€å§‹è®¾ç½® ç”¨æˆ·é…ç½®...
è¯·è¾“å…¥è¦ä½¿ç”¨çš„ä»£ç†ç«¯å£ã€‚ [1-65535]
[æ³¨æ„] å¦‚æœä½ åœ¨æœ¬åœ°é€šè¿‡ Hosts æ–¹å¼ä½¿ç”¨è¯¥ä»£ç†ï¼Œé‚£ä¹ˆåªèƒ½é€‰æ‹© 80 ç«¯å£ï¼Œæ ¼å¼ç¤ºä¾‹ï¼š80
[æ³¨æ„] å¦‚æœéœ€è¦æ­é…è‡ªç­¾è¯ä¹¦ï¼Œé‚£ä¹ˆè¿˜éœ€è¦é…ç½® HTTPS ç«¯å£ï¼Œæ ¼å¼ï¼šHTTP:HTTPSï¼Œä¸¤ä¸ªç«¯å£ä¸èƒ½ç›¸åŒï¼Œæ ¼å¼ç¤ºä¾‹ï¼š80:443"
(é»˜è®¤: 80):

------------------------
    ä»£ç†ç«¯å£ :  80 
------------------------

è¯·è¾“å…¥è¦ä½¿ç”¨çš„éŸ³æºæ’åºã€‚ [qq kuwo kugou baidu xiami migu joox]
[æ³¨æ„] éŸ³æºæ’åºæŒ‡çš„æ˜¯ï¼Œæ— ç‰ˆæƒéŸ³ä¹ä¼šæ ¹æ®æ­¤å¤„é¡ºåºä¼˜å…ˆåŒ¹é…é¦–ä½éŸ³æºï¼Œå¦‚æœåŒ¹é…åˆ°å°±è¿”å›ï¼Œåä¹‹å°±ç»§ç»­å¾€ååŒ¹é…ã€‚
[æ³¨æ„] ä¸åŒéŸ³æºä¹‹é—´è¯·ç”¨ç©ºæ ¼éš”å¼€ã€‚
(é»˜è®¤: qq migu kuwo kugou baidu):

------------------------
    éŸ³æºæ’åº :  qq migu kuwo kugou baidu 
------------------------

æ˜¯å¦å¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Ÿ[Y/n]
[æ³¨æ„] å¯ç”¨ä¸¥æ ¼æ¨¡å¼åï¼Œæœ¬ä»£ç†ä»…å…è®¸ç½‘æ˜“äº‘éŸ³ä¹åŸŸåè®¿é—®ï¼Œå³æœ¬åœ°è®¾å¤‡åªèƒ½é€šè¿‡ Host æˆ– PAC ä½¿ç”¨ï¼Œå¼ºçƒˆå»ºè®®å¼€å¯ï¼Œå¦åˆ™æ‰€æœ‰è®¾å¤‡æµé‡éƒ½ä¼šç»è¿‡æœ¬ä»£ç†ã€‚
(é»˜è®¤ï¼šY [å¯ç”¨]):

------------------------
    ä¸¥æ ¼æ¨¡å¼ :  YES 
------------------------

æŒ‡å®šç½‘æ˜“æœåŠ¡å™¨ IPï¼Œä¸æ‡‚è¯·è·³è¿‡ã€‚[æ ¼å¼ï¼šIPv4]
(é»˜è®¤ä¸ºç©º):

------------------------
    æŒ‡å®š IP :   
------------------------

[ä¿¡æ¯] å¼€å§‹å®‰è£…/é…ç½® ä¾èµ–...
[ä¿¡æ¯] å¼€å§‹ä¸‹è½½/å®‰è£…...
...
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
å¦‚æœå®‰è£…è¿‡ç¨‹æ²¡æœ‰å‡ºé”™ï¼Œé‚£ä¹ˆæœ€åå°±ä¼šæç¤ºï¼š

    UnblockNeteaseMusic é…ç½®ä¿¡æ¯ï¼š
    ------------------------
    æœ¬æœºåœ°å€: X.X.X.X
    ä»£ç†ç«¯å£: 80
    éŸ³æºæ’åº: qq migu kuwo kugou baidu
    ä¸¥æ ¼æ¨¡å¼: YES
    æŒ‡å®š IP: 

    PAC åœ°å€: http://X.X.X.X:80/proxy.pac
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
ä½¿ç”¨æ–¹æ³•
æœ¬åœ°ä½¿ç”¨
å®‰è£…å¹¶å¯åŠ¨æˆåŠŸåï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°è®¾å¤‡ä¸Šä½¿ç”¨äº†ã€‚
ä»¥ä¸‹ä¸¤ç§æ¨¡å¼ä»»é€‰å…¶ä¸€ï¼Œä¸è¦åŒæ—¶ä½¿ç”¨ã€‚

Hostsæ¨¡å¼
åœ¨ Hosts æœ«å°¾ä¸­æ·»åŠ ä¸‹é¢ä¸¤è¡Œï¼š

X.X.X.X music.163.com
X.X.X.X interface.music.163.com
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
X.X.X.X æŒ‡çš„æ˜¯ä½ çš„æœåŠ¡å™¨IPï¼Œè®°å¾—ä¿®æ”¹ï¼Œä¸è¦å‚»å‚»çš„è·Ÿç€å†™ã€‚

PACæ¨¡å¼
å¦‚æœæ— æ³•é…ç½® Hostsï¼ˆä¾‹å¦‚æ‰‹æœºï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ PACã€‚ ä¿®æ”¹è®¾å¤‡çš„ä»£ç†è‡ªåŠ¨é…ç½®ä¸ºä¸‹é¢ä¸€è¡Œå†…å®¹ï¼š

http://X.X.X.X:ç«¯å£/proxy.pac
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
X.X.X.X æŒ‡çš„æ˜¯ä½ çš„æœåŠ¡å™¨IPï¼Œç«¯å£æ˜¯ä½ çš„ä»£ç†ç«¯å£ï¼Œè®°å¾—ä¿®æ”¹ï¼Œä¸è¦å‚»å‚»çš„è·Ÿç€å†™ã€‚

å®¢æˆ·ç«¯å¹³å°	PAC è®¾ç½®æ­¥éª¤
Windows	è®¾ç½® -> å·¥å…· -> è‡ªå®šä¹‰ä»£ç†(å®¢æˆ·ç«¯å†…) -> HTTPä»£ç† -> æœåŠ¡å™¨: ... ç«¯å£: ...
UWP	Windows è®¾ç½® -> ç½‘ç»œå’Œ Internet -> ä»£ç† -> å‹¾é€‰[ä½¿ç”¨è®¾ç½®è„šæœ¬] -> è„šæœ¬åœ°å€: ...
Linux	ç³»ç»Ÿè®¾ç½® -> ç½‘ç»œ -> ç½‘ç»œä»£ç† -> æ–¹æ³•:è‡ªåŠ¨ -> é…ç½® URL: ...
macOS	ç³»ç»Ÿåå¥½è®¾ç½® -> ç½‘ç»œ -> é«˜çº§ -> ä»£ç† -> è‡ªåŠ¨ä»£ç†é…ç½® -> URL: ...
Android	WLAN -> ä¿®æ”¹ç½‘ç»œ -> é«˜çº§é€‰é¡¹ -> ä»£ç† -> ä»£ç†è‡ªåŠ¨é…ç½® -> PACç½‘å€: ...
iOS	æ— çº¿å±€åŸŸç½‘ -> HTTP ä»£ç† -> é…ç½®ä»£ç† -> è‡ªåŠ¨ -> URL: ...
è„šæœ¬è¯´æ˜
è¿è¡Œè„šæœ¬

bash unblock163.sh
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
è¾“å…¥å¯¹åº”çš„æ•°å­—æ¥æ‰§è¡Œç›¸åº”çš„å‘½ä»¤ã€‚

  UnblockNeteaseMusic ä¸€é”®è„šæœ¬ [vX.X.X]
  
  0. æ›´æ–°è„šæœ¬
----------
  1. å®‰è£…
  2. æ›´æ–°
  3. å¸è½½
----------
  4. å¯åŠ¨
  5. åœæ­¢
  6. é‡å¯
----------
  7. è®¾ç½® é…ç½®ä¿¡æ¯
  8. æŸ¥çœ‹ è´¦å·ä¿¡æ¯
  9. æŸ¥çœ‹ æ—¥å¿—ä¿¡æ¯
 10. æŸ¥çœ‹ é“¾æ¥ä¿¡æ¯

 å½“å‰çŠ¶æ€: å·²å®‰è£… å¹¶ å·²å¯åŠ¨

 è¯·è¾“å…¥æ•°å­— [0-10]:
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
æ–‡ä»¶ä½ç½®
å®‰è£…ç›®å½•ï¼š/usr/local/UnblockNeteaseMusic
æ—¥å¿—æ–‡ä»¶ï¼š/usr/local/UnblockNeteaseMusic/UnblockNeteaseMusic.log
å…¶ä»–å‘½ä»¤
é™¤äº†ç”¨è„šæœ¬å¯åŠ¨ã€åœæ­¢ã€é‡å¯ä»¥å¤–ï¼Œè¿˜èƒ½é€šè¿‡å…¶ä»–å‘½ä»¤æ“ä½œã€‚

å¯åŠ¨ï¼š/etc/init.d/unblock163 start
åœæ­¢ï¼š/etc/init.d/unblock163 stop
é‡å¯ï¼š/etc/init.d/unblock163 restart
æŸ¥çœ‹çŠ¶æ€ï¼š/etc/init.d/unblock163 status
æ³¨æ„äº‹é¡¹
å¯åŠ¨å¤±è´¥çš„å¯èƒ½åŸå› 
1. ç«¯å£è¢«å ç”¨
å¦‚æœæ—¥å¿—ä¸­æ˜¾ç¤ºä»¥ä¸‹å†…å®¹ï¼Œå³è¯´æ˜ç«¯å£è¢«å ç”¨äº†ã€‚

ç‚¹å‡»å±•å¼€ æŸ¥çœ‹æ›´å¤š
HTTP Server running @ http://0.0.0.0:80
events.js:174
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:80
    at Server.setupListenHandle [as _listen2] (net.js:1279:14)
    at listenInCluster (net.js:1327:12)
    at doListen (net.js:1460:7)
    at process._tickCallback (internal/process/next_tick.js:63:19)
Emitted 'error' event at:
    at emitErrorNT (net.js:1306:8)
    at process._tickCallback (internal/process/next_tick.js:63:19)
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
è¯·ä½¿ç”¨ ss -ltp|grep ç«¯å£å· æŸ¥çœ‹æ˜¯è¢«å“ªä¸ªç¨‹åºå ç”¨äº†ã€‚
ä¾‹å¦‚æç¤ºå¦‚ä¸‹å†…å®¹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ kill -9 2333 å‘½ä»¤æ¥ç»“æŸè¯¥è¿›ç¨‹ï¼ˆå¦‚æœæœ‰ä¸¤ä¸ª pid å°±ç»“æŸæœ€åé‚£ä¸ªï¼‰ã€‚

State         Recv-Q         Send-Q                    Local Address:Port                     Peer Address:Port
LISTEN0      128           0.0.0.0:80         0.0.0.0:*    users:(("nginx",pid=6666,fd=14),("nginx",pid=2333,fd=14))
å¤åˆ¶å¤åˆ¶å¤±è´¥å·²å¤åˆ¶
å…¶ä»–
é˜¿é‡Œäº‘/è…¾è®¯äº‘/å¾®è½¯äº‘/è°·æ­Œäº‘ç­‰æ— æ³•è¿æ¥çš„å¯èƒ½åŸå› 
é˜¿é‡Œäº‘/è…¾è®¯äº‘/å¾®è½¯äº‘/è°·æ­Œäº‘ç­‰æœåŠ¡å•†çš„äº‘æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸ç½‘ç»œå®é™…ä¸Šæ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥åˆ†ä¸ºå†…ç½‘é˜²ç«å¢™å’Œå¤–ç½‘é˜²ç«å¢™ï¼Œè„šæœ¬åªèƒ½ä¿®æ”¹åˆ°å†…ç½‘é˜²ç«å¢™ï¼Œå¤–ç½‘é˜²ç«å¢™éœ€è¦ä½ è‡ªè¡Œå»åå°å¯»æ‰¾ [é˜²ç«å¢™/å®‰å…¨è§„åˆ™/ç«¯å£è§„åˆ™] ç­‰å­—æ ·ç›¸å…³é€‰é¡¹å¼€æ”¾ä»£ç†ç«¯å£ã€‚

